@using Meep.Tech.Collections.Generic
@using Xbam.Inspector.Shared.Components
@using Xbam.Inspector.Shared.Components.Cards
@inherits Card

<Card Title=@Title CardType=@CardType State=@State>
    @State.Archetype.RenderCard(@State)
</Card>

@code {

    [Parameter, EditorRequired]
    public string ItemId {
        get;
        set;
    }

    [Parameter, EditorRequired]
    public string TabId {
        get;
        set;
    }

    protected override void OnInitialized() {
        State = Pages.Index
            .TabState[TabId]
            .ItemsState[ItemId]
            .CardsState[Title];

        base.OnInitialized();
    }
}
