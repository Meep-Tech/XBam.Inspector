@using Xbam.Inspector.Shared.Components.Tabs

@if (IsTheActivePage) {
    @ChildContent
}

@code {
    [CascadingParameter] 
    public TabsArea Parent { get; private set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public bool IsTheActivePage
        => Parent.ActivePage == this;

    [Parameter]
    public string Title { get; set; } = null!;

    public virtual string Key {
        get => Title;
        set => Title = value;
    }

    protected override void OnInitialized() {
        if (Parent == null) {
            throw new ArgumentNullException(nameof(Parent), "InspectorTypeFamilyTabPannel must exist within a InspectorTypeFamilyTabsArea");
        }
        Parent._addInitialPannel(this);
        base.OnInitialized();
    }
}
